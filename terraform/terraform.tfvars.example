# Copy this file to terraform.tfvars and fill in your values
# 
# NOTE: terraform.tfvars is gitignored and will NOT be committed
# 
# For CI/CD deployments, use GitHub Secrets (see GITHUB_SECRETS.md)
# For local development, use this file or environment variables (see README.md)

# General Configuration
environment = "production"
aws_region  = "us-east-1"

# Networking Configuration
vpc_cidr            = "10.0.0.0/16"
availability_zones  = ["us-east-1a", "us-east-1b"]
public_subnets      = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnets     = ["10.0.11.0/24", "10.0.12.0/24"]
allowed_cidr_blocks = ["0.0.0.0/0"]  # CHANGE THIS: Restrict to your IP ranges

# ECS Cluster Configuration
cluster_name = "forge-vision-cluster"
service_name = "vision-validator"

# Container Configuration
container_image  = "ghcr.io/unforkableco/forge-plugins-vision:latest"
container_port   = 8080
container_cpu    = 2048
container_memory = 8192

# GPU Configuration (DISABLED - using CPU rendering)
gpu_enabled      = false
instance_type    = "t3.xlarge"  # 4 vCPU, 16GB RAM, ~$0.1664/hr (~$120/month) - CPU rendering
# Single instance for cost optimization - no auto-scaling
desired_capacity = 1
min_size         = 1
max_size         = 1

# Application Environment Variables
api_key        = "your-secure-api-key-here"  # REQUIRED: API key for authenticating requests TO the vision service (generate with: openssl rand -base64 32)
openai_api_key = "sk-..."                    # Your OpenAI API key
gemini_api_key = ""                          # Optional: Gemini API key
backend_api_key = ""                         # Optional: API key for authenticating requests FROM vision service TO backend (only needed if backend requires auth)
# Note: backend_url is NOT needed - the artifacts URL comes from the request body sent by Fabrikator

# Health Check Configuration
health_check_path     = "/health"
health_check_interval = 30

# Auto-scaling Configuration
enable_autoscaling = true
cpu_threshold      = 70
memory_threshold   = 80
